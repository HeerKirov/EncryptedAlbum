<div id="detailView" class="panel" v-if="visible">
    <div style="position: absolute; width: 100%; overflow: hidden; text-align: center"
         :style="{'top': fullscreen ? '0px' : '22px', 'bottom': showDock ? '120px' : '0px'}">
        <div style="position: absolute; width: 100%; height: 100%" @click="showTool = !showTool"></div>
        <img style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%)"
             :style="mainImageZoom" :src="currentDataURL"
             @click="showTool = !showTool" v-if="!showInfo"/>
        <div class="p-5" style="position: absolute; width: 100%; height: 100%; overflow: auto" v-if="showInfo">
            <div class="row">
                <div class="col-auto">
                    <button class="btn btn-link text-white"><i class="fa fa-pencil-square-o"></i></button>
                </div>
                <div class="col">
                    <h3 class="text-white">{{currentImage.title}}</h3>
                    <label class="text-white">{{currentImage.collection}}</label>
                </div>
                <div class="col-auto">
                    <button class="btn btn-link text-white"><i class="fa fa-star-o"></i></button>
                </div>
            </div>
            <div class="row">
                <div class="col-12 col-md-5">
                    <img class="m-2" style="max-height: 40vh; max-width: 100%"
                        :src="currentDataURL"/>
                </div>
                <div class="col-12 col-md-7">
                    <div class="row">

                    </div>
                </div>
            </div>
        </div>

        <div v-if="showTool">
            <button style="position: absolute; left: 5px; top: 5px; width: 36px; height: 36px; border-width: 0"
                    class="btn btn-outline-secondary" @click="goBack">
                <i class="fa fa-close"></i>
            </button>
            <button style="position: absolute; left: 5px; top: 45px; width: 36px; bottom: 45px; border-width: 0"
                    class="btn btn-outline-secondary"
                    v-if="showPageButton" @click="prevPage">
                <i class="fa fa-angle-left"></i>
            </button>
            <button style="position: absolute; right: 5px; top: 45px; width: 36px; bottom: 45px; border-width: 0"
                    class="btn btn-outline-secondary"
                    v-if="showPageButton" @click="nextPage">
                <i class="fa fa-angle-right"></i>
            </button>
            <button style="position: absolute; right: 5px; bottom: 5px; width: 36px; height: 36px; border-width: 0"
                    class="btn btn-outline-secondary" v-if="showFullScreenButton" @click="switchFullScreen">
                <i class="fa fa-arrows-alt"></i>
            </button>
            <button style="position: absolute; left: 5px; bottom: 5px; width: 36px; height: 36px; border-width: 0"
                    class="btn btn-outline-secondary" v-if="!showDock" @click="showDock = true">
                <i class="fa fa-bars"></i>
            </button>
        </div>
    </div>

    <div style="position: absolute; width: 100%; height: 121px; bottom: 0; background: #222222"
         v-if="showDock">
        <button style="position: absolute; left: 5px; bottom: 79px; width: 36px; height: 36px; border-width: 0"
                class="btn btn-outline-secondary" @click="showInfo = !showInfo">
            <i class="fa fa-info"></i>
        </button>
        <button style="position: absolute; left: 5px; bottom: 5px; width: 36px; height: 36px; border-width: 0"
                class="btn btn-outline-secondary" @click="showDock = false">
            <i class="fa fa-bars"></i>
        </button>
        <button style="position: absolute; right: 5px; bottom: 79px; width: 40px;height: 36px; border-width: 0"
                class="btn" :class="{'btn-outline-light': dockType === 'list', 'btn-outline-secondary': dockType !== 'list'}"
                @click="dockType = 'list'">
            <i class="fa fa-film"></i>
        </button>
        <button style="position: absolute; right: 5px; bottom: 42px; width: 40px;height: 36px; border-width: 0"
                class="btn" :class="{'btn-outline-light': dockType === 'play', 'btn-outline-secondary': dockType !== 'play'}"
                @click="dockType = 'play'">
            <i class="fa fa-video-camera"></i>
        </button>
        <button style="position: absolute; right: 5px; bottom: 5px; width: 40px; height: 36px; border-width: 0"
                class="btn" :class="{'btn-outline-light': dockType === 'zoom', 'btn-outline-secondary': dockType !== 'zoom'}"
                @click="dockType = 'zoom'">
            <i class="fa fa-joomla"></i>
        </button>
        <div style="position: absolute; left: 50px; right: 50px; top: 5px; bottom: 5px" v-if="dockType === 'list'">
            <div class="row" style="height: 100%">
                <div class="col p-0"></div>
                <div class="col-auto pt-2 pb-1 pl-0 pr-1">
                    <button class="btn btn-sm btn-secondary" style="width: 20px; height: 95px;"
                            @click="prevThumbnailPartition">
                        <i class="fa fa-angle-left"></i>
                    </button>
                </div>
                <div class="col-auto p-1" style="height: 100%; vertical-align: middle" v-for="thumbnail in thumbnails">
                    <img :src="thumbnail.dataURL" :alt="thumbnail.title" style="margin-top: 5%; height: 90%"
                        @click="loadCurrentAs(thumbnail.index)"/>
                </div>
                <div class="col-auto pt-2 pb-1 pl-1 pr-0">
                    <button class="btn btn-sm btn-secondary" style="width: 20px; height: 95px;"
                            @click="nextThumbnailPartition">
                        <i class="fa fa-angle-right"></i>
                    </button>
                </div>
                <div class="col p-0"></div>
            </div>
        </div>
        <div style="position: absolute; left: 50px; right: 50px; top: 5px; bottom: 5px" v-if="dockType === 'play'">
            <label class="form-check-label" style="color: #FFFFFF; position: absolute; left: 10px; top: 40%;">
                <input type="checkbox" class="form-check-input" v-model="playRand">随机轮播
            </label>
            <label style="position: absolute; right: 70%; top: 40%; color: #FFFFFF">轮播 {{playItems[playItem].title}}</label>
            <input type="range" class="custom-range" style="position: absolute; height: 25px; top: 40%; left: 35%; width: 60%"
                   min="0" :max="playItems.length - 1" step="1" v-model="playItem"/>
        </div>
        <div style="position: absolute; left: 50px; right: 50px; top: 5px; bottom: 5px" v-if="dockType === 'zoom'">
            <div class="btn-group-sm btn-group" style="position: absolute; top: 18px; left: 40%; width: 20%">
                <button class="btn m-0 btn-block" :class="{'btn-outline-secondary': !zoomAbsolute, 'btn-secondary': zoomAbsolute}"
                        style="color: #FFFFFF; height: 30px" @click="zoomAbsolute = true">绝对值</button>
                <button class="btn m-0 btn-block" :class="{'btn-outline-secondary': zoomAbsolute, 'btn-secondary': !zoomAbsolute}"
                        style="color: #FFFFFF; height: 30px" @click="zoomAbsolute = false">自适应</button>
            </div>
            <input type="range" class="custom-range" style="position: absolute; height: 25px; top: 55%; left: 10%; width: 80%"
                   min="0" max="100" step="5" v-model="zoomValue"/>
        </div>
    </div>
</div>